!function(){"use strict";angular.module("otus.validation",[])}(),function(){"use strict";function ValidationService(ValidationPoolService){function initPool(){ValidationPoolService.initPool()}function resetPool(){ValidationPoolService.initPool()}function registerElement(elementRegister){ValidationPoolService.persist(elementRegister)}function unregisterElement(elementRegister){ValidationPoolService.remove(elementRegister)}function validateElement(idElementRegister,callback){var response=[],elementRegister=ValidationPoolService.fetch(idElementRegister);elementRegister.runAllValidators(function(responseElement){response.push(responseElement)}),callback(response)}function validateAllElements(callback){var response=[],allElements=ValidationPoolService.fetchAll();allElements.forEach(function(element,index,array){element.runAllValidators(function(responseElement){response.push(responseElement)})}),callback(response)}var self=this;self.registerElement=registerElement,self.unregisterElement=unregisterElement,self.validateElement=validateElement,self.validateAllElements=validateAllElements,self.initPool=initPool,self.resetPool=resetPool}angular.module("otus.validation").service("ValidationService",ValidationService),ValidationService.$inject=["ValidationPoolService"]}(),function(){"use strict";function ValidationHubService(MandatoryValidatorService,DistinctValidatorService,FutureDateValidatorService,DateInValidatorService,LowerLimitValidatorService,MaxDateValidatorService,MaxLengthValidatorService,MinDateValidatorService,MinLengthValidatorService,PastDateValidatorService,UpperLimitValidatorService){var self=this;self.validators={mandatory:MandatoryValidatorService,distinct:DistinctValidatorService,"future-date":FutureDateValidatorService,"date-in":DateInValidatorService,"lower-limit":LowerLimitValidatorService,"max-date":MaxDateValidatorService,"max-length":MaxLengthValidatorService,"min-date":MinDateValidatorService,"min-length":MinLengthValidatorService,"past-date":PastDateValidatorService,"upper-limit":UpperLimitValidatorService}}angular.module("otus.validation").service("ValidationHubService",ValidationHubService),ValidationHubService.$inject=["MandatoryValidatorService","DistinctValidatorService","FutureDateValidatorService","DateInValidatorService","LowerLimitValidatorService","MaxDateValidatorService","MaxLengthValidatorService","MinDateValidatorService","MinLengthValidatorService","PastDateValidatorService","UpperLimitValidatorService"]}(),function(){"use strict";function ValidationPoolService(){function initPool(){self.pool=[]}function persist(elementRegister){self.pool.push(elementRegister)}function remove(idElementRegister){self.pool.forEach(function(element,index,array){element.id===idElementRegister&&self.pool.splice(index,1)})}function fetch(idElementRegister){var founded={};return self.pool.forEach(function(element,index,array){element.id===idElementRegister&&(founded=element)}),founded}function fetchAll(){return self.pool}var self=this;self.persist=persist,self.remove=remove,self.fetch=fetch,self.fetchAll=fetchAll,self.initPool=initPool,initPool()}angular.module("otus.validation").service("ValidationPoolService",ValidationPoolService)}(),function(){"use strict";function ElementRegisterFactory(ValidatorFactory,ValidationResponseFactory){function create(id,model){return new ElementRegister(id,model,ValidatorFactory,ValidationResponseFactory)}var self=this;return self.create=create,self}function ElementRegister(id,model,ValidatorFactory,ValidationResponseFactory){function addValidator(name,data){var validator=ValidatorFactory.create(name,data,self.model);self.validators.push(validator)}function runAllValidators(callback){var validationResponse=ValidationResponseFactory.create(self.id);self.validators.forEach(function(element,index,array){validationResponse.addValidatorResponse(element.execute())}),callback(validationResponse)}var self=this;self.id=id,self.model=model,self.validators=[],self.addValidator=addValidator,self.runAllValidators=runAllValidators}angular.module("otus.validation").factory("ElementRegisterFactory",ElementRegisterFactory),ElementRegisterFactory.$inject=["ValidatorFactory","ValidationResponseFactory"]}(),function(){"use strict";function ValidatorFactory(ValidationHubService){function create(name,data,model){return new Validator(name,data,model,ValidationHubService)}var self=this;return self.create=create,self}function Validator(name,data,model,ValidationHubService){function execute(){if(self.enable){var validationResponse=ValidationHubService.validators[self.name].execute(model,self.data);return validationResponse.name=self.name,validationResponse}}var self=this;self.name=name,self.enable=!0,self.data=data,self.execute=execute}angular.module("otus.validation").factory("ValidatorFactory",ValidatorFactory),ValidatorFactory.$inject=["ValidationHubService"]}(),function(){"use strict";function DateInValidatorService(ValidatorResponseFactory){function execute(model,data){var result=data.initial<model&&model<data.end;return ValidatorResponseFactory.create(model,data,result)}var self=this;self.execute=execute}angular.module("otus.validation").service("DateInValidatorService",DateInValidatorService),DateInValidatorService.$inject=["ValidatorResponseFactory"]}(),function(){"use strict";function FutureDateValidatorService(ValidatorResponseFactory){function execute(model,data){var result=model>new Date;return ValidatorResponseFactory.create(model,data,result)}var self=this;self.execute=execute}angular.module("otus.validation").service("FutureDateValidatorService",FutureDateValidatorService),FutureDateValidatorService.$inject=["ValidatorResponseFactory"]}(),function(){"use strict";function MaxDateValidatorService(ValidatorResponseFactory){function execute(model,data){var result=model<=data.reference;return ValidatorResponseFactory.create(model,data,result)}var self=this;self.execute=execute}angular.module("otus.validation").service("MaxDateValidatorService",MaxDateValidatorService),MaxDateValidatorService.$inject=["ValidatorResponseFactory"]}(),function(){"use strict";function MinDateValidatorService(ValidatorResponseFactory){function execute(model,data){var result=model>=data.reference;return ValidatorResponseFactory.create(model,data,result)}var self=this;self.execute=execute}angular.module("otus.validation").service("MinDateValidatorService",MinDateValidatorService),MinDateValidatorService.$inject=["ValidatorResponseFactory"]}(),function(){"use strict";function PastDateValidatorService(ValidatorResponseFactory){function execute(model,data){var result=model<new Date;return ValidatorResponseFactory.create(model,data,result)}var self=this;self.execute=execute}angular.module("otus.validation").service("PastDateValidatorService",PastDateValidatorService),PastDateValidatorService.$inject=["ValidatorResponseFactory"]}(),function(){"use strict";function DistinctValidatorService(ValidatorResponseFactory){function execute(model,data){var result=model!=data.reference;return ValidatorResponseFactory.create(model,data,result)}var self=this;self.execute=execute}angular.module("otus.validation").service("DistinctValidatorService",DistinctValidatorService),DistinctValidatorService.$inject=["ValidatorResponseFactory"]}(),function(){"use strict";function MandatoryValidatorService(ValidatorResponseFactory){function execute(model,data){var result=!("undefined"==typeof model||0==model.length);return ValidatorResponseFactory.create(model,data,result)}var self=this;self.execute=execute}angular.module("otus.validation").service("MandatoryValidatorService",MandatoryValidatorService),MandatoryValidatorService.$inject=["ValidatorResponseFactory"]}(),function(){"use strict";function LowerLimitValidatorService(ValidatorResponseFactory){function execute(model,data){var result=model>data.reference;return ValidatorResponseFactory.create(model,data,result)}var self=this;self.execute=execute}angular.module("otus.validation").service("LowerLimitValidatorService",LowerLimitValidatorService),LowerLimitValidatorService.$inject=["ValidatorResponseFactory"]}(),function(){"use strict";function UpperLimitValidatorService(ValidatorResponseFactory){function execute(model,data){var result=model<data.reference;return ValidatorResponseFactory.create(model,data,result)}var self=this;self.execute=execute}angular.module("otus.validation").service("UpperLimitValidatorService",UpperLimitValidatorService),UpperLimitValidatorService.$inject=["ValidatorResponseFactory"]}(),function(){"use strict";function MaxLengthValidatorService(ValidatorResponseFactory){function execute(model,data){var result=model.length<=data.size;return ValidatorResponseFactory.create(model,data,result)}var self=this;self.execute=execute}angular.module("otus.validation").service("MaxLengthValidatorService",MaxLengthValidatorService),MaxLengthValidatorService.$inject=["ValidatorResponseFactory"]}(),function(){"use strict";function MinLengthValidatorService(ValidatorResponseFactory){function execute(model,data){var result=model.length>=data.size;return ValidatorResponseFactory.create(model,data,result)}var self=this;self.execute=execute}angular.module("otus.validation").service("MinLengthValidatorService",MinLengthValidatorService),MinLengthValidatorService.$inject=["ValidatorResponseFactory"]}(),function(){"use strict";function ValidationResponseFactory(){function create(elementID){return new ValidationResponse(elementID)}var self=this;return self.create=create,self}function ValidationResponse(elementID){function addValidatorResponse(reponse){self.validatorsResponse.push(reponse)}var self=this;self.elementID=elementID,self.validatorsResponse=[],self.addValidatorResponse=addValidatorResponse}angular.module("otus.validation").factory("ValidationResponseFactory",ValidationResponseFactory)}(),function(){"use strict";function ValidatorResponseFactory(){function create(reference,data,result){return new ValidatorResponse(reference,data,result)}var self=this;return self.create=create,self}function ValidatorResponse(reference,data,result){var self=this;self.name={},self.reference=reference,self.data=data,self.result=result}angular.module("otus.validation").factory("ValidatorResponseFactory",ValidatorResponseFactory)}();